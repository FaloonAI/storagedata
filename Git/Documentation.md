# Стань лучше в использование Git + Github.

`using namespace git`

## Настройка Config (Global):
- config --global user.name "name"
- config --global user.email email@email.test
- config --global core.editor "name"

---

## База:
- **push** - отправляет (загружает) ваши локальные изменения в удаленный репозиторий.
	- origin <branch_name> -  из текущей локальной ветки в одноименную ветку на origin.
- **pull** - извлекает (загружает) изменения из удаленного репозитория в ваш локальный репозиторий.
	- origin <main/master> -  скачать изменения из ветки "main/master" репозитория origin и слить из с текущей локальной веткой.
- **clone** <https://github.com/user/repo.git> -  создание локальной копии удаленного репозитория.

---

## Основные обозначения:

- **Working** **Directory** – твои файлы на диске (рабочая папка).
- **Index** (Staging Area) – “буфер”, куда ты складываешь изменения перед коммитом.
- **Repository** (Commits / History) – история изменений (локальная база Git).
- **Remote** – удалённый репозиторий (GitHub, GitLab и т.п.).

**То есть работа всегда идёт по цепочке:**
`Working Directory → Index → Local Repo → Remote Repo`

---

## Repo:

- **init** - инициализация(/создание) репозитория
- **status** - узнать состояние репозитория
- **add** <argument>/"." - добавить изменения / добавить все изменения из текущего каталога и подкаталогов.
	- При параметрах:
		- "-A" - добавить все изменения и новые файлы во всем репозитории.
		- "-p" - интерактивно выбрать, какие части изменения в файле добавить. 
	
- **commit** -m <text> - закрепить(/фиксировать) данные из индекса.
- **log** - узнать историю изменений/историю коммитов.
	- При параметрах:
		- "--oneline" - показать лог в более компактном виде.
		- "--graph --oneline --decorate" - показать лог с графическим представлением веток и слияний.
		- "-n" X - показать лог последних X коммитов.
- **reset**
	- "--soft" <commit> - откатить к коммиту, оставив изменения в индексе.
	- "--mixed" <commit> - (по умолчанию) – откатить, оставив изменения только в рабочем каталоге.
	- "--hard" <commit> - полностью откатить, удалив все изменения.

---

## Remote repo:

- **remote** -v – показать список подключённых удалённых репозиториев.
- **remote** add origin <url> – добавить удалённый репозиторий.

---

## Branch:

- **checkout** <argument> - переместиться на ветку / коммит через хеш.
	- При параметрах:
		- "-b" - создать и переместиться на нее.
		- "--" <filename> - отменить изменения в файле <filename> до состояние последнего коммита.
- **switch** <branch_name> - переместиться на ветку.
	- При параметрах:
		- "-c" - создать и переместиться на нее.
		- "-" без <branch_name> - вернуться на предыдущую ветку.
- **branch** <branch_name> - создать ветку с указанием имени. 
	- При параметрах:
		- "-d" - удалить ветку при слитых изменениях.
		- "-D" - удалить ветку принудительно.
		- "-a" без <branch_name> - показать все ветки (локальные и удаленные).
- **merge** <branch_name> - внести изменения в текущую ветку из указанной.
- **rebase** <main/master> - переписать историю из текущей ветки поверх указанной.

---

## Additionally:

- **restore**
	- При параметрах:
		- "--staded" <file> - восстановление из индекса или рабочей директори.
		- "--source" - восстановление файла.
			- <commit-hash> - восстановление файла из конкретного коммита.
			- <branch-or-tag> - восстановление файла из ветки или тега.
			- HEAD~X - восстановление файла X коммитов назад
- **maintenance** <start/stop> - предназначена для автоматического выполнения задач по обслуживанию репозитория, направленных на оптимизацию производительности и снижение требований к хранилищу.
- **fetch** - предназначена для загрузки изменений из удаленного репозитория в локальный репозиторий, но не вносит эти изменения в вашу рабочую копию.
- **clean** - удаления мусора из рабочего каталога.
- **rm** <filename> - удаление файла из индекса.
- **stash** - сохранить изменения "в сторону"/"отложить", и допустим перейти работать в другую ветку.
	- list - список отложенных изменений.
	- apply - применить изменения, не удаляя их из stash.
	- pop - применить изменения и удалить их из stash.

---

## Workflow:

### Scenarios #1 (Рутина)
1. git clone / git init
2. git status
3. git add .
4. git commit -m <text>
5. git push

### Scenarios #2 (Работа с веткой)
1. git switch -c <feature-branch>
2. git add .
3. git commit -m <text>
4. git push -u origin <feature-branch>
- После доработки → git switch <main/master>
1. git pull origin <main/master>
2. git merge <feature-branch>
3. git push origin <main/master>

### Scenarios #3 (Исправление/баг)
1. git fetch – обновить удалённые данные
2. git switch -c hotfix <main/master>
- внести исправления → git commit -m <fix:text>
1. git push origin hotfix
- После review → git merge hotfix в main

### Scenarios #4 (Stash)
**Ситуация**: ты работаешь над фичей, но внезапно нужно переключиться в другую ветку, чтобы поправить баг.

1. git status
2. git stash
3. git switch main
4. git commit -am "fix: баг в main"
5. git switch feature
6. git stash pop

### Scenarios #5 (Restore)
**Ситуация А**: случайно испортил файл и хочешь вернуть его из последнего коммита.

1. git restore index.html - вернёт файл к состоянию последнего коммита
2. git restore --staged index.html - убирает файл из индекса (останется в рабочей папке)
3. git restore --source=abc123 index.html

---

## Примечание / Доп.данные:

- Параметр "-m" в контексте коммита означает то что мы будем указывать именно текстовое значение коммиту.
- **Origin** - это просто имя по умолчанию для удаленного репозитория при клонировании репозитория
- **Switch** - более современная и безопасная альтернатива git checkout для переключения между ветками. Эта команда создана специально для работы с ветками, что делает намерения в коде более ясными и снижает риск случайной потери данных при восстановлении файлов (так как switch этим не занимается).
- **Pull** фактически -> fetch + merge.
- **.gitignore** – файл для игнорирования ненужных файлов (логов, temp, venv и т.д.).

---

## Материал:

- [Документация Git](https://git-scm.com/book/ru/v2/%D0%9F%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-C:-%D0%9A%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-Git-%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B)

---

![Диаграмма](Image.png)